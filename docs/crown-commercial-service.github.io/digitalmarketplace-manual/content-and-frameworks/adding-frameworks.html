

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Preparing to add a new framework &mdash; digitalmarketplace-manual 1.0.0 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Framework lifecycle for developers" href="framework-lifecycle-for-developers.html" />
    <link rel="prev" title="Guidelines for accessing production data and systems" href="../developing-the-digital-marketplace/production-guidelines.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home" alt="Documentation Home"> digitalmarketplace-manual
          

          
          </a>

          
            
            
              <div class="version">
                1.0.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Digital Marketplace background</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../digital-marketplace-background/deportalising.html">History: From G-Cloud 5 to G-Cloud 8</a></li>
<li class="toctree-l1"><a class="reference internal" href="../digital-marketplace-background/finding-things.html">Finding Things</a></li>
<li class="toctree-l1"><a class="reference internal" href="../digital-marketplace-background/journeys.html">User Journeys on the Digital Marketplace</a></li>
<li class="toctree-l1"><a class="reference internal" href="../digital-marketplace-background/gdpr.html">GDPR</a></li>
</ul>
<p class="caption"><span class="caption-text">Developing the Digital Marketplace</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../developing-the-digital-marketplace/accessing-the-api.html">Accessing the API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developing-the-digital-marketplace/adding-repos.html">Adding a new repository</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developing-the-digital-marketplace/application-architecture.html">Application architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developing-the-digital-marketplace/browser-support.html">Browser and accessibility support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developing-the-digital-marketplace/environments.html">Environments</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developing-the-digital-marketplace/developer-setup.html">Developer setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developing-the-digital-marketplace/decision-records.html">Recording decisions on the Digital Marketplace</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developing-the-digital-marketplace/digitalmarketplace-runner.html">Digital Marketplace Runner (‘dmrunner’)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developing-the-digital-marketplace/nix.html">Nix Environments</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developing-the-digital-marketplace/data-model.html">Data model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developing-the-digital-marketplace/development-and-deployment-process.html">Development and deployment process</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developing-the-digital-marketplace/frontend-migration.html">Migrating the Digital Marketplace frontend</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developing-the-digital-marketplace/moving-data.html">Moving data between environments</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developing-the-digital-marketplace/urls.html">URLs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developing-the-digital-marketplace/users.html">Users</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developing-the-digital-marketplace/google-analytics.html">Google Analytics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developing-the-digital-marketplace/load-testing.html">Load testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developing-the-digital-marketplace/automated-testing.html">Automated testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developing-the-digital-marketplace/splitting-applications.html">Splitting or adding a frontend application</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developing-the-digital-marketplace/database-migrations.html">Database migrations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developing-the-digital-marketplace/docker-strategies.html">Docker strategies</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developing-the-digital-marketplace/frontend-assets-and-tools.html">Frontend assets and tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developing-the-digital-marketplace/python-typing-strategy.html">Python typing strategy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developing-the-digital-marketplace/production-guidelines.html">Guidelines for accessing production data and systems</a></li>
</ul>
<p class="caption"><span class="caption-text">Content and frameworks</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Preparing to add a new framework</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#make-the-content">1 - Make the content</a></li>
<li class="toctree-l2"><a class="reference internal" href="#generate-service-validation-schemas-and-add-them-to-the-api">2 - Generate service validation schemas and add them to the API</a></li>
<li class="toctree-l2"><a class="reference internal" href="#add-a-supplier-declaration-validator-optional">3 - Add a supplier declaration validator (optional)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#check-application-email-templates">4 - Check application email templates</a></li>
<li class="toctree-l2"><a class="reference internal" href="#create-any-new-lots">5 - Create any new lots</a></li>
<li class="toctree-l2"><a class="reference internal" href="#upload-legal-documents">6 - Upload legal documents</a></li>
<li class="toctree-l2"><a class="reference internal" href="#generate-the-assessment-schemas">7 - Generate the assessment schemas</a></li>
<li class="toctree-l2"><a class="reference internal" href="#create-a-new-search-mapping-g-cloud-only">8 - Create a new search mapping (G-Cloud only)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#load-test">9 - Load test</a></li>
<li class="toctree-l2"><a class="reference internal" href="#let-s-go">10 - Let’s go!</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="framework-lifecycle-for-developers.html">Framework lifecycle for developers</a></li>
<li class="toctree-l1"><a class="reference internal" href="how-suppliers-apply-to-a-framework.html">How suppliers apply to a framework</a></li>
<li class="toctree-l1"><a class="reference internal" href="framework-agreements.html">Framework agreements</a></li>
<li class="toctree-l1"><a class="reference internal" href="contract-variations.html">Contract variations</a></li>
<li class="toctree-l1"><a class="reference internal" href="adding-a-new-form-field-type.html">Adding a new form field type</a></li>
<li class="toctree-l1"><a class="reference internal" href="finding-content.html">Finding content</a></li>
<li class="toctree-l1"><a class="reference internal" href="changing-content.html">Changing content</a></li>
<li class="toctree-l1"><a class="reference internal" href="useful-api-endpoints-for-frameworks.html">Useful API endpoints for frameworks</a></li>
</ul>
<p class="caption"><span class="caption-text">Infrastructure</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../infrastructure/antivirus.html">The Antivirus API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../infrastructure/aws-accounts.html">AWS accounts and access</a></li>
<li class="toctree-l1"><a class="reference internal" href="../infrastructure/aws-resources.html">AWS Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../infrastructure/code-backups.html">Code backups</a></li>
<li class="toctree-l1"><a class="reference internal" href="../infrastructure/database-backups.html">Database backups</a></li>
<li class="toctree-l1"><a class="reference internal" href="../infrastructure/domains.html">Domains</a></li>
<li class="toctree-l1"><a class="reference internal" href="../infrastructure/emails.html">Email integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../infrastructure/elasticsearch.html">Elasticsearch</a></li>
<li class="toctree-l1"><a class="reference internal" href="../infrastructure/jenkins.html">Jenkins</a></li>
<li class="toctree-l1"><a class="reference internal" href="../infrastructure/github-actions.html">GitHub Actions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../infrastructure/logging.html">Logging, monitoring and alerting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../infrastructure/maintenance-mode.html">Maintenance Mode</a></li>
<li class="toctree-l1"><a class="reference internal" href="../infrastructure/python-environments.html">Python environments</a></li>
<li class="toctree-l1"><a class="reference internal" href="../infrastructure/paas.html">What is PaaS?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../infrastructure/paas.html#deploying-digital-marketplace-apps-to-gov-uk-paas">Deploying Digital Marketplace apps to GOV.UK PaaS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../infrastructure/rate-limiting.html">Rate Limiting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../infrastructure/upgrading-backend-services.html">Upgrading backend services</a></li>
<li class="toctree-l1"><a class="reference internal" href="../infrastructure/session-management.html">Session Management</a></li>
</ul>
<p class="caption"><span class="caption-text">Managing People and Secret Things</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../managing-people-and-secret-things/credentials.html">Credentials and secrets</a></li>
<li class="toctree-l1"><a class="reference internal" href="../managing-people-and-secret-things/accounts.html">Adding and removing access for new starters / leavers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../managing-people-and-secret-things/production-access.html">Requirements for access to production environments</a></li>
</ul>
<p class="caption"><span class="caption-text">2nd Line Runbook</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../2nd-line-runbook/incidents.html">Incidents</a></li>
<li class="toctree-l1"><a class="reference internal" href="../2nd-line-runbook/logging-in-to-paas-databases.html">Logging in to databases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../2nd-line-runbook/logging-in-to-paas-databases.html#resetting-brief-data-with-conduit">Resetting brief data with conduit</a></li>
<li class="toctree-l1"><a class="reference internal" href="../2nd-line-runbook/blocking-ips.html">IP Restrictions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../2nd-line-runbook/upgrading-jenkins.html">Upgrading Jenkins</a></li>
<li class="toctree-l1"><a class="reference internal" href="../2nd-line-runbook/rebuilding-jenkins.html">Rebuilding Jenkins from scratch</a></li>
<li class="toctree-l1"><a class="reference internal" href="../2nd-line-runbook/rotate-keys.html">Rotating API keys</a></li>
<li class="toctree-l1"><a class="reference internal" href="../2nd-line-runbook/debugging-paas-app-instances.html">Debugging PaaS App Instances</a></li>
<li class="toctree-l1"><a class="reference internal" href="../2nd-line-runbook/vulnerability-scanning.html">Vulnerability scanning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../2nd-line-runbook/novations.html">Novations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../2nd-line-runbook/support-tasks.html">Support Tasks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../2nd-line-runbook/investigating-alerts.html">Responding to Cloudwatch alerts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../2nd-line-runbook/buyer-domain-allow-list.html">Buyer Domain Allow List</a></li>
</ul>
<p class="caption"><span class="caption-text">What is this?</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://github.com/alphagov/digitalmarketplace-manual/blob/master/README.md">README</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">digitalmarketplace-manual</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Preparing to add a new framework</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/Crown-Commercial-Service/digitalmarketplace-manual/blob/main/manual/content-and-frameworks/adding-frameworks.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="preparing-to-add-a-new-framework">
<span id="adding-frameworks"></span><h1><a class="toc-backref" href="#id1">Preparing to add a new framework</a><a class="headerlink" href="#preparing-to-add-a-new-framework" title="Permalink to this headline">¶</a></h1>
<div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#preparing-to-add-a-new-framework" id="id1">Preparing to add a new framework</a></p>
<ul>
<li><p><a class="reference internal" href="#make-the-content" id="id2">1 - Make the content</a></p></li>
<li><p><a class="reference internal" href="#generate-service-validation-schemas-and-add-them-to-the-api" id="id3">2 - Generate service validation schemas and add them to the API</a></p></li>
<li><p><a class="reference internal" href="#add-a-supplier-declaration-validator-optional" id="id4">3 - Add a supplier declaration validator (optional)</a></p></li>
<li><p><a class="reference internal" href="#check-application-email-templates" id="id5">4 - Check application email templates</a></p></li>
<li><p><a class="reference internal" href="#create-any-new-lots" id="id6">5 - Create any new lots</a></p></li>
<li><p><a class="reference internal" href="#upload-legal-documents" id="id7">6 - Upload legal documents</a></p></li>
<li><p><a class="reference internal" href="#generate-the-assessment-schemas" id="id8">7 - Generate the assessment schemas</a></p></li>
<li><p><a class="reference internal" href="#create-a-new-search-mapping-g-cloud-only" id="id9">8 - Create a new search mapping (G-Cloud only)</a></p></li>
<li><p><a class="reference internal" href="#load-test" id="id10">9 - Load test</a></p></li>
<li><p><a class="reference internal" href="#let-s-go" id="id11">10 - Let’s go!</a></p></li>
</ul>
</li>
</ul>
</div>
<p>These are the things a developer currently needs to do to prepare a new framework for applications.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Unless otherwise noted, you should make sure you do ALL these steps in the right order.</p>
</div>
<div class="section" id="make-the-content">
<h2><a class="toc-backref" href="#id2">1 - Make the content</a><a class="headerlink" href="#make-the-content" title="Permalink to this headline">¶</a></h2>
<p>In the <a class="reference external" href="https://github.com/alphagov/digitalmarketplace-frameworks">frameworks repository</a>, run the <code class="docutils literal notranslate"><span class="pre">clone-latest-framework.py</span></code> script. For instance, to create a new
framework G-Cloud 12 from G-Cloud 11 run:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">./</span><span class="n">scripts</span><span class="o">/</span><span class="n">clone</span><span class="o">-</span><span class="n">latest</span><span class="o">-</span><span class="n">framework</span><span class="o">.</span><span class="n">py</span> <span class="o">--</span><span class="n">family</span><span class="o">=</span><span class="n">g</span><span class="o">-</span><span class="n">cloud</span> <span class="o">--</span><span class="n">iteration</span><span class="o">=</span><span class="mi">12</span> <span class="o">--</span><span class="n">launch</span><span class="o">-</span><span class="n">year</span><span class="o">=</span><span class="mi">2020</span>
</pre></div>
</div>
<p>This will create a new folder in the <code class="docutils literal notranslate"><span class="pre">frameworks</span></code> directory based on the previous iteration of that framework.</p>
<p>Each framework iteration has sub-folders for:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">questions</span></code>: all the question content for both supplier declarations and service definitions.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">manifests</span></code>: manifests define the order that questions are presented by the front-end applications.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">messages</span></code>: various framework-specific messages shown during applications, such as important dates.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">metadata</span></code>: information that links two or more frameworks, e.g. which service attributes can be copied between frameworks.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">search_mappings</span></code>: contains a base mapping, used to generate the framework’s Elasticsearch mapping for the Search API.</p></li>
</ul>
<p>The cloning script provides placeholder dates and URLs that will need to be updated and confirmed with the real
content (see below).</p>
<p>Commit the changes and update the version number in <code class="docutils literal notranslate"><span class="pre">package.json</span></code>. Normally this will be a minor version bump, as
it shouldn’t break functionality.</p>
<p>See the README in the <a class="reference external" href="https://github.com/alphagov/digitalmarketplace-frameworks">frameworks repository</a> for more detail about how these things work.</p>
<p>After cloning the content:</p>
<ul class="simple">
<li><p>Confirm and update any service or declaration questions with Crown Commercial Services (CCS) and a GDS content designer
before launch. It’s advisable to keep any script-generated dates in the content to a far-future year
(e.g. 1st March 2525) until they are confirmed with CCS.</p></li>
<li><p>Add in new deadline dates, links to GOV.UK content and home page messages (the cloning script should have put in placeholders for these, currently 2525). This should be approved by a GDS content designer.</p></li>
<li><p>Add service questions that shouldn’t be copied between framework iterations (for example, because they have been
removed or changed significantly) to <code class="docutils literal notranslate"><span class="pre">questions_to_exclude</span></code> under <code class="docutils literal notranslate"><span class="pre">metadata/copy_services.yml</span></code>.
Note: For G-Cloud 12 and earlier, this file listed <code class="docutils literal notranslate"><span class="pre">questions_to_copy</span></code> rather than <code class="docutils literal notranslate"><span class="pre">questions_to_exclude</span></code>, to
explicitly state which questions were copyable. This is now deprecated. <a class="reference external" href="https://github.com/alphagov/digitalmarketplace-supplier-frontend/commit/41c3b5fec82f565c7c9fb31f2dcfd9532cdb7635">See Supplier FE for usage</a>.</p></li>
<li><p>Mark any significantly-changed declaration questions as <code class="docutils literal notranslate"><span class="pre">prefill:</span> <span class="pre">false</span></code> in <code class="docutils literal notranslate"><span class="pre">manifests/declaration.yml</span></code>.</p></li>
<li><p>Add any new free text fields for G-Cloud services to the <code class="docutils literal notranslate"><span class="pre">scan-g-cloud-services-for-bad-words.py</span></code> script.</p></li>
<li><p>Update the version number in the <a class="reference external" href="https://github.com/alphagov/digitalmarketplace-frameworks">frameworks repository</a>’s <code class="docutils literal notranslate"><span class="pre">package.json</span></code> file (make sure <code class="docutils literal notranslate"><span class="pre">package-lock.json</span></code> is also updated!).</p></li>
<li><p>Pull in the new version of the frameworks package to all the frontend apps. For the Briefs FE, Brief Responses FE
and Supplier FE, you will also need to load the content for the new framework in <code class="docutils literal notranslate"><span class="pre">app/main/__init__.py</span></code>. Update all unit tests that reference the previous framework iteration.</p></li>
<li><p>Run <code class="docutils literal notranslate"><span class="pre">framework-applications/generate-questions-csv.py</span></code> from the <a class="reference external" href="https://github.com/alphagov/digitalmarketplace-scripts">scripts repository</a> to export the declaration
and service questions as a CSV file, ready to publish for suppliers. These files will normally be published by a
framework manager using the admin interface.</p></li>
</ul>
</div>
<div class="section" id="generate-service-validation-schemas-and-add-them-to-the-api">
<h2><a class="toc-backref" href="#id3">2 - Generate service validation schemas and add them to the API</a><a class="headerlink" href="#generate-service-validation-schemas-and-add-them-to-the-api" title="Permalink to this headline">¶</a></h2>
<p>The API needs service validation schemas for each lot on the new framework, to validate requests containing service
data.</p>
<ul>
<li><p>In the <a class="reference external" href="https://github.com/alphagov/digitalmarketplace-frameworks">frameworks repository</a>, add the required schema names to the list in <code class="docutils literal notranslate"><span class="pre">schema_generator/validation.py</span></code></p></li>
<li><p>Then (assuming your API code is checked out in a folder at the same level as your frameworks code) run:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="o">./</span><span class="n">scripts</span><span class="o">/</span><span class="n">generate</span><span class="o">-</span><span class="n">validation</span><span class="o">-</span><span class="n">schemas</span><span class="o">.</span><span class="n">py</span> <span class="o">--</span><span class="n">output</span><span class="o">-</span><span class="n">path</span><span class="o">=../</span><span class="n">digitalmarketplace</span><span class="o">-</span><span class="n">api</span><span class="o">/</span><span class="n">json_schemas</span><span class="o">/</span>
</pre></div>
</div>
</li>
<li><p>Then commit the freshly-generated schemas into the API.</p></li>
</ul>
<p>If there are subsequent changes to questions in the frameworks repo, remember to regenerate the schemas.</p>
</div>
<div class="section" id="add-a-supplier-declaration-validator-optional">
<h2><a class="toc-backref" href="#id4">3 - Add a supplier declaration validator (optional)</a><a class="headerlink" href="#add-a-supplier-declaration-validator-optional" title="Permalink to this headline">¶</a></h2>
<p>Unlike services, supplier declarations are validated in the <a class="reference external" href="https://github.com/alphagov/digitalmarketplace-supplier-frontend">supplier frontend</a> due to the limitations of JSON schema
(specifically that it can’t be used to conditionally validate based on values of keys elsewhere in the JSON).</p>
<p>Frameworks from G-Cloud 8 onwards use a shared validator class to validate frameworks. If no validator is specified
for a framework this shared validator will be used by default.</p>
<p>If the new framework requires any custom validation (e.g. dependencies between questions), create a new class in the
<a class="reference external" href="https://github.com/alphagov/digitalmarketplace-supplier-frontend">supplier frontend</a> as follows:</p>
<ul class="simple">
<li><p>Add the new framework to the validator list in <code class="docutils literal notranslate"><span class="pre">app/main/helpers/validation.py</span></code>.</p></li>
<li><p>Add any new optional and/or dependent declaration questions to the validator (for example, conditional followup
questions).</p></li>
</ul>
</div>
<div class="section" id="check-application-email-templates">
<h2><a class="toc-backref" href="#id5">4 - Check application email templates</a><a class="headerlink" href="#check-application-email-templates" title="Permalink to this headline">¶</a></h2>
<p>A number of emails are sent during framework applications. Make sure all the emails below have templates on
<a class="reference external" href="https://notifications.service.gov.uk">GOV.UK Notify</a>, and that they have been checked by the framework product manager and a content designer:</p>
<blockquote>
<div><ul class="simple">
<li><p>The new framework is coming</p></li>
<li><p>Applications are open</p></li>
<li><p>You have started an application</p></li>
<li><p>You have submitted a clarification question</p></li>
<li><p>Clarification questions have been updated</p></li>
<li><p>Clarification questions are closing today</p></li>
<li><p>Applications are closing soon</p></li>
<li><p>Applications are closed</p></li>
<li><p>You submitted an application / You did not submit an application</p></li>
<li><p>Notify successful suppliers of award</p></li>
<li><p>Framework is now live</p></li>
</ul>
</div></blockquote>
<p>Unsuccessful suppliers will be contacted separately by CCS.</p>
</div>
<div class="section" id="create-any-new-lots">
<h2><a class="toc-backref" href="#id6">5 - Create any new lots</a><a class="headerlink" href="#create-any-new-lots" title="Permalink to this headline">¶</a></h2>
<p>If the new framework also has new lots, these will have to be created by a database migration (the API does not
currently support creating or modifying lots).</p>
<p>If the lots already exist, you can re-use the existing lot slugs when creating your new framework via the API (this
is step 1 in the <a class="reference external" href="framework-lifecycle-for-developers">framework lifecycle</a>).</p>
</div>
<div class="section" id="upload-legal-documents">
<h2><a class="toc-backref" href="#id7">6 - Upload legal documents</a><a class="headerlink" href="#upload-legal-documents" title="Permalink to this headline">¶</a></h2>
<p>The following legal documents need to be uploaded to S3 by a developer.</p>
<p>They should be uploaded to the communications bucket in the <code class="docutils literal notranslate"><span class="pre">&lt;framework_slug&gt;/communications</span></code> folder. The
filenames are important, as the Supplier Frontend checks whether these files are present, and links them in specific
places on the supplier’s framework dashboard.</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;framework-slug&gt;-invitation.pdf</span></code> (Invitation to Tender)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;framework-slug&gt;-proposed-call-off.pdf</span></code> (Call-off Contract)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;framework-slug&gt;-proposed-framework-agreement.pdf</span></code> (Framework Agreement)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;framework-slug&gt;-reporting-template.xls</span></code> (MI Reporting template)</p></li>
</ul>
</div></blockquote>
<p>The documents need to be prepared by CCS and checked by a GDS content designer for clarity/accessibility, so they may not be
availble straightaway. You can add placeholder documents on the Preview S3 bucket
(e.g. <code class="docutils literal notranslate"><span class="pre">digitalmarketplace-communications-preview-preview/g-cloud-12/communications</span></code>) to test that the links are showing correctly, but
make sure to only add the signed-off documents to the Production S3 bucket.</p>
<p>Note that the ‘proposed’ call-off contract and framework agreement are just that - proposed. These are not the final
documents and will not be public until the framework is awarded (after standstill ends). Suppliers must log into their
accounts to view these documents.</p>
<p>Any other framework documents (for example: question export CSVs, changes between iterations) can be uploaded by a
framework manager in the Admin. These are stored in a subfolder of the same S3 bucket (e.g.
<code class="docutils literal notranslate"><span class="pre">digitalmarketplace-communications-preview-preview/g-cloud-12/communications/updates/communications</span></code>) and
will be displayed in the general ‘communications’ document list in the supplier’s account.</p>
</div>
<div class="section" id="generate-the-assessment-schemas">
<h2><a class="toc-backref" href="#id8">7 - Generate the assessment schemas</a><a class="headerlink" href="#generate-the-assessment-schemas" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This can be done at any time before applications close</p>
</div>
<p>Run the <code class="docutils literal notranslate"><span class="pre">generate-assessment-schema.py</span></code> script in our <a class="reference external" href="https://github.com/alphagov/digitalmarketplace-frameworks">frameworks repository</a>, to create the pass/fail json schema
with which we assess suppliers’ declarations. Pipe the output to the <code class="docutils literal notranslate"><span class="pre">/schemas</span></code> folder in the <a class="reference external" href="https://github.com/alphagov/digitalmarketplace-scripts">scripts repository</a>
and commit it.</p>
<p>For example, to generate assessment schema for G-Cloud 12:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">./</span><span class="n">scripts</span><span class="o">/</span><span class="n">generate</span><span class="o">-</span><span class="n">assessment</span><span class="o">-</span><span class="n">schema</span><span class="o">.</span><span class="n">py</span> <span class="n">g</span><span class="o">-</span><span class="n">cloud</span><span class="o">-</span><span class="mi">12</span> <span class="o">&gt;</span> <span class="o">../</span><span class="n">digitalmarketplace</span><span class="o">-</span><span class="n">scripts</span><span class="o">/</span><span class="n">schema</span><span class="o">/</span><span class="n">g</span><span class="o">-</span><span class="n">cloud</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="n">assessment</span><span class="o">-</span><span class="n">schema</span><span class="o">.</span><span class="n">json</span>
</pre></div>
</div>
<p>If the declaration has new <code class="docutils literal notranslate"><span class="pre">mitigatingFactors</span></code> questions for discretionary failures, add these to the
<code class="docutils literal notranslate"><span class="pre">export-framework-results-reasons.py</span></code> script in the <a class="reference external" href="https://github.com/alphagov/digitalmarketplace-scripts">scripts repository</a>, for inclusion in the pass/fail report
(to be sent to CCS).</p>
<p>DOS frameworks used to also have assessment schemas for services, but these are now validated in the API, in the same
way as G-Cloud services.</p>
</div>
<div class="section" id="create-a-new-search-mapping-g-cloud-only">
<h2><a class="toc-backref" href="#id9">8 - Create a new search mapping (G-Cloud only)</a><a class="headerlink" href="#create-a-new-search-mapping-g-cloud-only" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This can be done at any time before the framework goes live</p>
</div>
<ul class="simple">
<li><p>Run the <code class="docutils literal notranslate"><span class="pre">generate-search-config.py</span></code> script from the <a class="reference external" href="https://github.com/alphagov/digitalmarketplace-frameworks">frameworks repository</a> to generate a search mapping for
the new G-Cloud index. This should take the name <code class="docutils literal notranslate"><span class="pre">&lt;doctype&gt;-&lt;framework_slug&gt;</span></code>, e.g. <code class="docutils literal notranslate"><span class="pre">services-g-cloud-10</span></code>.</p></li>
<li><p>Commit the output to the Search API repository, under <code class="docutils literal notranslate"><span class="pre">digitalmarketplace-search-api/mappings</span></code>.</p></li>
</ul>
</div>
<div class="section" id="load-test">
<h2><a class="toc-backref" href="#id10">9 - Load test</a><a class="headerlink" href="#load-test" title="Permalink to this headline">¶</a></h2>
<p>Check that the Digital Marketplace will be able to handle the traffic for this framework by running <a class="reference internal" href="../developing-the-digital-marketplace/load-testing.html#load-testing"><span class="std std-ref">load tests</span></a>.</p>
</div>
<div class="section" id="let-s-go">
<h2><a class="toc-backref" href="#id11">10 - Let’s go!</a><a class="headerlink" href="#let-s-go" title="Permalink to this headline">¶</a></h2>
<p>Everything is now set up and ready to create and launch the new framework itself! Follow the steps in
<a class="reference internal" href="framework-lifecycle-for-developers.html#framework-lifecycle-for-developers"><span class="std std-ref">Framework lifecycle for developers</span></a> to get cracking.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Check with the framework’s product manager and/or the comms team before you start the next steps in production,
as the creating the framework in the database will display information to users on the home page.</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="framework-lifecycle-for-developers.html" class="btn btn-neutral float-right" title="Framework lifecycle for developers" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../developing-the-digital-marketplace/production-guidelines.html" class="btn btn-neutral float-left" title="Guidelines for accessing production data and systems" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2013 - 2021 Digital Marketplace

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>